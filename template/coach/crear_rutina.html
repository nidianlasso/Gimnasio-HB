{% extends "base.html" %}

{% block menu %}
  {% include "coach/menu.html" %}
{% endblock %}

{% block content %}
<h1 style="text-align: center; color: #ff4b2b; margin-bottom: 30px; margin-top: -300px;">
  <i class="fa-light fa-bookmark" style="color: yellow;"></i> Asignar la rutina
</h1>

<div style="max-width: 1000px; margin: auto; background: rgba(255, 255, 255, 0.05); padding: 20px; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.3);">

  <table id="tablaClientesAsignados" style="width: 100%; border-collapse: collapse; text-align: center;">
    <thead style="background: #ff4b2b; color: white;">
      <tr>
        <th style="padding: 12px;">ID</th>
        <th style="padding: 12px;">Nombre</th>
        <th style="padding: 12px;">Apellido</th>
        <th style="padding: 12px;">Acción</th>
      </tr>
    </thead>
    <tbody>
      {% if clientes %}
        {% for c in clientes %}
          <tr>
            <td>{{ c.id_usuario }}</td>
            <td>{{ c.nombre }}</td>
            <td>{{ c.apellido }}</td>
            <td>
              {% if c.tieneRutina %}
                <a href="{{ url_for('actualizar_rutina', id_usuario_miembro=c.id_usuario) }}" 
                   class="btn btn-warning btn-sm">
                   Actualizar
                </a>
                <a href="{{ url_for('eliminar_rutina', id_usuario_miembro=c.id_usuario) }}" 
                   class="btn btn-danger btn-sm">
                   Eliminar
                </a>
              {% else %}
                <a href="{{ url_for('crear_rutina', id_usuario_miembro=c.id_usuario) }}" 
                   class="btn btn-primary btn-sm">
                   Crear Rutina
                </a>
              {% endif %}
            </td>
          </tr>
        {% endfor %}
      {% else %}
        <tr>
          <td colspan="4" style="color: #ccc; padding: 20px; text-align: center;">
             No hay clientes asignados.
          </td>
        </tr>
      {% endif %}
    </tbody>
  </table>
</div>
{% endblock %}

{% block scripts %}
<!-- Aquí podrías añadir JS en el futuro si quieres confirmación para eliminar -->
{% endblock %}
